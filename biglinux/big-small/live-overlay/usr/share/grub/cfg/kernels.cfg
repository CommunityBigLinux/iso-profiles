menuentry "Start with Open Source Drivers (support for OLD Nvidia GPUs or AMD, Intel and other computers)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
    linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw nosoftlockup audit=0 nomce skew_tick=1 intremap=off intel_pstate=passive amd_pstate=passive cpuidle.governor=teo split_lock_detect=off clearcpuid=514 transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
    initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
}

menuentry "" {
    set gfxpayload=keep
}

submenu 'Advanced options with Open Source Drivers' $menuentry_id_option 'gnulinux-advanced-7ae0c6e3-f7c7-44e4-96e1-edeee79bc62b' {

    title=""
    for kopt in @ARCH@ $kopts  @DEFAULT_ARGS@ @BOOT_ARGS@; do
        if [ -n "$title" ] ; then
            title="$title $kopt";
        else
            title="$kopt";
        fi;
    done

    menuentry "4.1 Open in Installer" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
    linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw nosoftlockup audit=0 nomce skew_tick=1 intremap=off intel_pstate=passive amd_pstate=passive cpuidle.governor=teo split_lock_detect=off clearcpuid=514 transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash biglinux.bootcmd=only-calamares
    initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }

    menuentry "4.2 Open in Terminal" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
    linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw nosoftlockup audit=0 nomce skew_tick=1 intremap=off intel_pstate=passive amd_pstate=passive cpuidle.governor=teo split_lock_detect=off clearcpuid=514 transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash biglinux.bootcmd=urxvt
    initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }

    menuentry "4.3 without ibt" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw nosoftlockup audit=0 nomce skew_tick=1 intremap=off intel_pstate=passive amd_pstate=passive cpuidle.governor=teo split_lock_detect=off clearcpuid=514 transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash ibt=off
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }

    menuentry "4.4 Remove modeset (without modeset)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nouveau.modeset=0 i915.modeset=0 radeon.modeset=0 nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }

    menuentry "4.5 Default power state max latency (nvme_core.default_ps_max_latency_us)=0" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw nvme_core.default_ps_max_latency_us=0 transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }

    menuentry "4.6 Add these switches (nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.7 Disable S-VIDEO and hpet interface (video=SVIDEO-1:d hpet=disable)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free video=SVIDEO-1:d hpet=disable nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.8 Disable S-VIDEO interface (video=SVIDEO-1:d)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free video=SVIDEO-1:d nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.9 Disable hpet interface (hpet=disable)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free hpet=disable nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.10 Enable optimizations with i915 graphics chipset (i915.semaphores=1)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free i915.semaphores=1 nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.11 Fix Xorg consistently freezes on startup (nopat)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nopat nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.12 Boot without splash screen (without splash)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.13 Fix PnP Bios caused a fatal error (pnpbios=off)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free pnpbios=off nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.14 Fix PnP Bios caused a fatal error and add switches (pnpbios=off noapic nolapic)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free pnpbios=off noapic nolapic nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.15 Add OS Linux to ACPI BIOS Resource Check (acpi_osi=Linux)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free acpi_osi=Linux nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.16 Add !Windows 2012 to ACPI BIOS Resource Check (acpi_osi=!Windows 2012)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free  acpi_osi="!Windows 2012" nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.17 Disable ACPI entirely (acpi=off)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free noacpi acpi=off nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.18 Remap memory in apps that don't read over 4GB (iommu=soft)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free iommu=soft nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.19 Disable Intel graphics features (nomodeset)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nomodeset nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "4.20 Add multiple switches (nopat noapic noapci nolapic nosplash irqpoll)" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUXLIVE driver=free nopat noapic noapci nolapic irqpoll nowatchdog tsc=nowatchdog cryptomgr.notests no_timer_check rcupdate.rcu_expedited=1 noreplace-smp video=efifb:nobgrt rw transparent_hugepage=never quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3 splash
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }


}

menuentry "" {
    set gfxpayload=keep
}
